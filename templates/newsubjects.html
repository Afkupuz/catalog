
{% extends "main.html" %}
{% block content %}
{% include "header.html" %}



	<div class="row divider green">
		<div class="col-md-12"></div>
	</div>
	<div class="row banner menu">
		<div class="col-md-11 col-md-offset-1 padding-none">
			<h1>New Subject</h1>
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <ul>
                {% for message in messages %}
                <li><strong>{{message}}</strong></li>
                {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
		</div>
	</div>
	<div class="row">
		<div class="col-md-6 col-md-offset-1 padding-top">
			<form action="#" method = "post" id="new">
				<div class="form-group">
					<label for="name">Name:</label>
					<input type ="text" maxlength="50" class="form-control" id="inputName" name="name" placeholder=“Title”>
                    <p class="tcounter">50</p>

					<label for="text">Content:</label>
					<textarea class="form-control" maxlength="999" rows="5" id="inputText" name="text" placeholder=“What do you want to say?”></textarea>
					<p class="pcounter">999</p>

					<button type="submit" class="btn btn-default" id="submit" type="submit">
					<span class="glyphicon glyphicon-ok" aria-hidden="true" ></span>Create</button>
                    
                    
				</div>
			</form>
            <a href="{{url_for('showSubjects')}}">
                <button class="btn btn-default" id="cancel">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Cancel
                </button>
		</div>
	</div>
<script>
    var main = function() {
        $('#submit').addClass('disabled');
        $('#inputName, #inputText').keyup(function() {
            var titleLength = $('#inputName').val().length;
            var postLength = $('#inputText').val().length;
            var tcharactersLeft = 50 - titleLength;
            var pcharactersLeft = 999 - postLength;
            $('.tcounter').text(tcharactersLeft);
            $('.pcounter').text(pcharactersLeft);
            if(tcharactersLeft >= 49 || pcharactersLeft >= 998 ) {
                $('#submit').addClass('disabled');
                }
            else {
                $('#submit').removeClass('disabled');
                }
            });
    }

$(document).ready(main);
</script>
{% endblock %}









